<script lang="ts">
  import Heatmap from "./Heatmap.svelte";
  import Dropzone from "svelte-file-dropzone/Dropzone.svelte";
  import type { Coordinate } from "./types";

  let json: Coordinate[] | undefined = undefined;

  function handleFilesSelect(e: any) {
    const { acceptedFiles, fileRejections } = e.detail;
    const file: File = acceptedFiles[0];
    const reader = new FileReader();
    reader.addEventListener(
      "load",
      () => {
        json = JSON.parse(reader.result as string).gazeLog;
        console.log(json);
      },
      false
    );
    reader.readAsText(file);
  }

  json = [
    {
        "x": 1,
        "y": 0,
        "z": 0
    },
    {
        "x": 0,
        "y": 0,
        "z": 1
    },
    {
        "x": 0.0044835275039076805,
        "y": 0.10622216761112213,
        "z": 0.9943323135375977
    },
    {
        "x": 0.0037179747596383095,
        "y": 0.10646872967481613,
        "z": 0.99430912733078
    },
    {
        "x": 0.003295665141195059,
        "y": 0.1059732660651207,
        "z": 0.99436354637146
    },
    {
        "x": 0.0025978051126003265,
        "y": 0.10616408288478851,
        "z": 0.9943452477455139
    },
    {
        "x": 0.0019659060053527355,
        "y": 0.10643085092306137,
        "z": 0.9943181872367859
    },
    {
        "x": 0.0011781557695940137,
        "y": 0.10717280209064484,
        "z": 0.9942396879196167
    },
    {
        "x": 0.001071032602339983,
        "y": 0.1077122911810875,
        "z": 0.9941815137863159
    },
    {
        "x": 0.0009443251183256507,
        "y": 0.10820552706718445,
        "z": 0.9941281080245972
    },
    {
        "x": 0.0011474810307845473,
        "y": 0.10838521271944046,
        "z": 0.9941083192825317
    },
    {
        "x": 0.0020121349953114986,
        "y": 0.10870381444692612,
        "z": 0.9940721392631531
    },
    {
        "x": 0.001938947127200663,
        "y": 0.10875145345926285,
        "z": 0.9940670728683472
    },
    {
        "x": 0.0016341423615813255,
        "y": 0.10921744257211685,
        "z": 0.9940165281295776
    },
    {
        "x": 0.0017833365127444267,
        "y": 0.10927412658929825,
        "z": 0.9940100312232971
    },
    {
        "x": 0.00202528340741992,
        "y": 0.11014372855424881,
        "z": 0.9939135909080505
    },
    {
        "x": 0.0018595129949972034,
        "y": 0.11048609018325806,
        "z": 0.9938759207725525
    },
    {
        "x": 0.0015391544438898563,
        "y": 0.11019309610128403,
        "z": 0.9939090013504028
    },
    {
        "x": 0.0014692682307213545,
        "y": 0.11041200160980225,
        "z": 0.993884801864624
    },
    {
        "x": 0.0011960524134337902,
        "y": 0.11075320839881897,
        "z": 0.9938471913337708
    },
    {
        "x": 0.0010676332749426365,
        "y": 0.11086999624967575,
        "z": 0.9938343167304993
    },
    {
        "x": 0.001053319196216762,
        "y": 0.11099817603826523,
        "z": 0.993820071220398
    },
    {
        "x": 0.000996712245978415,
        "y": 0.11074553430080414,
        "z": 0.9938483238220215
    },
    {
        "x": 0.0011395754991099238,
        "y": 0.11048922687768936,
        "z": 0.9938766956329346
    },
    {
        "x": 0.0010130178416147828,
        "y": 0.11037921905517578,
        "z": 0.9938890337944031
    },
    {
        "x": 0.000818952452391386,
        "y": 0.1103115901350975,
        "z": 0.9938967227935791
    },
    {
        "x": 0.00040977634489536285,
        "y": 0.11020929366350174,
        "z": 0.9939083456993103
    },
    {
        "x": 0.00021397450473159552,
        "y": 0.10994435101747513,
        "z": 0.9939377307891846
    },
    {
        "x": 0.000004957779310643673,
        "y": 0.10958097130060196,
        "z": 0.9939778447151184
    },
    {
        "x": 0.00022064708173274994,
        "y": 0.10928259789943695,
        "z": 0.9940106868743896
    },
    {
        "x": 0.0004448354011401534,
        "y": 0.1091538667678833,
        "z": 0.9940247535705566
    },
    {
        "x": 0.0010633586207404733,
        "y": 0.10923067480325699,
        "z": 0.9940158724784851
    },
    {
        "x": 0.001321478164754808,
        "y": 0.10919059813022614,
        "z": 0.9940199255943298
    },
    {
        "x": 0.001979151973500848,
        "y": 0.10910263657569885,
        "z": 0.9940285086631775
    },
    {
        "x": 0.002101159654557705,
        "y": 0.10921704024076462,
        "z": 0.9940156936645508
    },
    {
        "x": 0.002193210180848837,
        "y": 0.10977412015199661,
        "z": 0.9939541220664978
    },
    {
        "x": 0.0019229629542678595,
        "y": 0.11027610301971436,
        "z": 0.9938991069793701
    },
    {
        "x": 0.0021596145816147327,
        "y": 0.11020447313785553,
        "z": 0.9939066171646118
    },
    {
        "x": 0.0024431380443274975,
        "y": 0.11016067117452621,
        "z": 0.9939107894897461
    },
    {
        "x": 0.003731928300112486,
        "y": 0.10994742065668106,
        "z": 0.9939303994178772
    },
    {
        "x": 0.00478358706459403,
        "y": 0.11042410135269165,
        "z": 0.9938730597496033
    },
    {
        "x": 0.005846020765602589,
        "y": 0.11096719652414322,
        "z": 0.9938068985939026
    },
    {
        "x": 0.0065468186512589455,
        "y": 0.11213742941617966,
        "z": 0.9936711192131042
    },
    {
        "x": 0.008251835592091084,
        "y": 0.11281625181436539,
        "z": 0.9935815930366516
    },
    {
        "x": 0.013539434410631657,
        "y": 0.11388792842626572,
        "z": 0.9934013485908508
    },
    {
        "x": 0.025541506707668304,
        "y": 0.11607235670089722,
        "z": 0.9929122924804688
    },
    {
        "x": 0.04060666635632515,
        "y": 0.11849316209554672,
        "z": 0.9921241998672485
    },
    {
        "x": 0.05971406400203705,
        "y": 0.12067496031522751,
        "z": 0.9908944368362427
    },
    {
        "x": 0.0772022157907486,
        "y": 0.12326886504888535,
        "z": 0.9893657565116882
    },
    {
        "x": 0.09416139870882034,
        "y": 0.12500189244747162,
        "z": 0.9876781702041626
    },
    {
        "x": 0.11074566841125488,
        "y": 0.12746775150299072,
        "z": 0.9856405854225159
    },
    {
        "x": 0.12987357378005981,
        "y": 0.13087111711502075,
        "z": 0.9828558564186096
    },
    {
        "x": 0.14956767857074738,
        "y": 0.13407999277114868,
        "z": 0.9796183109283447
    },
    {
        "x": 0.17047779262065887,
        "y": 0.13635016977787018,
        "z": 0.9758821725845337
    },
    {
        "x": 0.1901565045118332,
        "y": 0.13876956701278687,
        "z": 0.9718968868255615
    },
    {
        "x": 0.21029993891716003,
        "y": 0.14215464890003204,
        "z": 0.9672465920448303
    },
    {
        "x": 0.23126289248466492,
        "y": 0.1455855369567871,
        "z": 0.9619367718696594
    },
    {
        "x": 0.25343790650367737,
        "y": 0.149616539478302,
        "z": 0.955711305141449
    },
    {
        "x": 0.27833905816078186,
        "y": 0.15477275848388672,
        "z": 0.9479307532310486
    },
    {
        "x": 0.30389076471328735,
        "y": 0.1603410542011261,
        "z": 0.9391171932220459
    },
    {
        "x": 0.3274250030517578,
        "y": 0.16389042139053345,
        "z": 0.9305551052093506
    },
    {
        "x": 0.34986308217048645,
        "y": 0.1683376580476761,
        "z": 0.9215520620346069
    },
    {
        "x": 0.37601667642593384,
        "y": 0.174691841006279,
        "z": 0.9099968075752258
    },
    {
        "x": 0.4049687087535858,
        "y": 0.18169935047626495,
        "z": 0.8960946798324585
    },
    {
        "x": 0.43385258316993713,
        "y": 0.18900051712989807,
        "z": 0.880937397480011
    },
    {
        "x": 0.4616204798221588,
        "y": 0.1953383833169937,
        "z": 0.865303099155426
    },
    {
        "x": 0.48839691281318665,
        "y": 0.20070354640483856,
        "z": 0.8492270112037659
    },
    {
        "x": 0.5137760639190674,
        "y": 0.20505328476428986,
        "z": 0.8330589532852173
    },
    {
        "x": 0.5373642444610596,
        "y": 0.21002915501594543,
        "z": 0.8167787194252014
    },
    {
        "x": 0.5587910413742065,
        "y": 0.21288105845451355,
        "z": 0.8015199899673462
    },
    {
        "x": 0.5788902640342712,
        "y": 0.2162592113018036,
        "z": 0.7862048745155334
    },
    {
        "x": 0.5959116220474243,
        "y": 0.21781153976917267,
        "z": 0.7729472517967224
    },
    {
        "x": 0.6118203997612,
        "y": 0.21841615438461304,
        "z": 0.7602435946464539
    },
    {
        "x": 0.6261031031608582,
        "y": 0.21889856457710266,
        "z": 0.7483837604522705
    },
    {
        "x": 0.6385886073112488,
        "y": 0.21914316713809967,
        "z": 0.7376861572265625
    },
    {
        "x": 0.649376630783081,
        "y": 0.22013898193836212,
        "z": 0.7279071807861328
    },
    {
        "x": 0.6591535806655884,
        "y": 0.22261476516723633,
        "z": 0.7183030247688293
    },
    {
        "x": 0.6683345437049866,
        "y": 0.2265138328075409,
        "z": 0.7085340023040771
    },
    {
        "x": 0.6782833337783813,
        "y": 0.22901535034179688,
        "z": 0.6982004046440125
    },
    {
        "x": 0.6880150437355042,
        "y": 0.22970682382583618,
        "z": 0.6883822083473206
    },
    {
        "x": 0.6963380575180054,
        "y": 0.22910410165786743,
        "z": 0.68016517162323
    },
    {
        "x": 0.703556478023529,
        "y": 0.23012889921665192,
        "z": 0.6723459362983704
    },
    {
        "x": 0.7102769017219543,
        "y": 0.23110663890838623,
        "z": 0.6649032831192017
    },
    {
        "x": 0.7166220545768738,
        "y": 0.23255304992198944,
        "z": 0.6575499176979065
    },
    {
        "x": 0.7225519418716431,
        "y": 0.23340879380702972,
        "z": 0.6507218480110168
    },
    {
        "x": 0.7284904718399048,
        "y": 0.23354554176330566,
        "z": 0.644017219543457
    },
    {
        "x": 0.7343034744262695,
        "y": 0.23349054157733917,
        "z": 0.6374014616012573
    },
    {
        "x": 0.7394275069236755,
        "y": 0.23492984473705292,
        "z": 0.6309159398078918
    },
    {
        "x": 0.7446767091751099,
        "y": 0.23504702746868134,
        "z": 0.6246674656867981
    },
    {
        "x": 0.7487906217575073,
        "y": 0.23535792529582977,
        "z": 0.6196122765541077
    },
    {
        "x": 0.7523841261863708,
        "y": 0.23748426139354706,
        "z": 0.6144260764122009
    },
    {
        "x": 0.7560766339302063,
        "y": 0.2392796277999878,
        "z": 0.6091744303703308
    },
    {
        "x": 0.7604489922523499,
        "y": 0.24137654900550842,
        "z": 0.6028720140457153
    },
    {
        "x": 0.765818178653717,
        "y": 0.24152225255966187,
        "z": 0.595977783203125
    },
    {
        "x": 0.7708439230918884,
        "y": 0.2416105717420578,
        "z": 0.5894268751144409
    },
    {
        "x": 0.7760142087936401,
        "y": 0.24151450395584106,
        "z": 0.5826429724693298
    },
    {
        "x": 0.7810049057006836,
        "y": 0.24112945795059204,
        "z": 0.5760971903800964
    },
    {
        "x": 0.7860900163650513,
        "y": 0.24024760723114014,
        "z": 0.5695116519927979
    },
    {
        "x": 0.7916929721832275,
        "y": 0.23858600854873657,
        "z": 0.5624046325683594
    },
    {
        "x": 0.7971081733703613,
        "y": 0.2372327446937561,
        "z": 0.5552830100059509
    },
    {
        "x": 0.8018590211868286,
        "y": 0.23584780097007751,
        "z": 0.548997163772583
    },
    {
        "x": 0.8068122863769531,
        "y": 0.2339390516281128,
        "z": 0.5425186157226562
    },
    {
        "x": 0.8108739852905273,
        "y": 0.23245826363563538,
        "z": 0.5370723605155945
    },
    {
        "x": 0.8147168755531311,
        "y": 0.2308938205242157,
        "z": 0.5319064855575562
    },
    {
        "x": 0.8189982175827026,
        "y": 0.22980578243732452,
        "z": 0.5257673859596252
    },
    {
        "x": 0.8227764964103699,
        "y": 0.2275366187095642,
        "z": 0.5208318829536438
    },
    {
        "x": 0.8263894319534302,
        "y": 0.22592975199222565,
        "z": 0.5157870650291443
    },
    {
        "x": 0.8295434713363647,
        "y": 0.22476771473884583,
        "z": 0.5112113952636719
    },
    {
        "x": 0.8321071863174438,
        "y": 0.22383585572242737,
        "z": 0.5074398517608643
    },
    {
        "x": 0.8341625928878784,
        "y": 0.22206218540668488,
        "z": 0.504837691783905
    },
    {
        "x": 0.8357641696929932,
        "y": 0.2206445336341858,
        "z": 0.5028064250946045
    },
    {
        "x": 0.8365244269371033,
        "y": 0.2198074907064438,
        "z": 0.5019078850746155
    },
    {
        "x": 0.8376150131225586,
        "y": 0.21827509999275208,
        "z": 0.5007565021514893
    },
    {
        "x": 0.8383485078811646,
        "y": 0.21724313497543335,
        "z": 0.49997714161872864
    },
    {
        "x": 0.8391015529632568,
        "y": 0.21643154323101044,
        "z": 0.4990651607513428
    },
    {
        "x": 0.8399596214294434,
        "y": 0.21676917374134064,
        "z": 0.4974725842475891
    },
    {
        "x": 0.8407884836196899,
        "y": 0.21667931973934174,
        "z": 0.4961097538471222
    },
    {
        "x": 0.841864824295044,
        "y": 0.21660616993904114,
        "z": 0.49431297183036804
    },
    {
        "x": 0.8427948951721191,
        "y": 0.21724969148635864,
        "z": 0.49244219064712524
    },
    {
        "x": 0.8434843420982361,
        "y": 0.21938878297805786,
        "z": 0.4903087615966797
    },
    {
        "x": 0.8439995646476746,
        "y": 0.22094511985778809,
        "z": 0.4887208342552185
    },
    {
        "x": 0.8445870876312256,
        "y": 0.22149404883384705,
        "z": 0.4874556362628937
    },
    {
        "x": 0.8450207114219666,
        "y": 0.22200201451778412,
        "z": 0.4864720404148102
    },
    {
        "x": 0.8459267616271973,
        "y": 0.22346292436122894,
        "z": 0.484223335981369
    },
    {
        "x": 0.846733570098877,
        "y": 0.22577004134655,
        "z": 0.4817366302013397
    },
    {
        "x": 0.847942590713501,
        "y": 0.22681838274002075,
        "z": 0.47911038994789124
    },
    {
        "x": 0.8487023115158081,
        "y": 0.22698703408241272,
        "z": 0.47768327593803406
    },
    {
        "x": 0.8494842648506165,
        "y": 0.2275697886943817,
        "z": 0.47601309418678284
    },
    {
        "x": 0.8502042889595032,
        "y": 0.22780556976795197,
        "z": 0.4746129512786865
    },
    {
        "x": 0.8504728078842163,
        "y": 0.22955968976020813,
        "z": 0.4732845723628998
    },
    {
        "x": 0.8507762551307678,
        "y": 0.23074623942375183,
        "z": 0.47216078639030457
    },
    {
        "x": 0.8514728546142578,
        "y": 0.2311527281999588,
        "z": 0.4707043170928955
    },
    {
        "x": 0.8520870208740234,
        "y": 0.23016062378883362,
        "z": 0.47007858753204346
    },
    {
        "x": 0.8521624803543091,
        "y": 0.23010730743408203,
        "z": 0.469967782497406
    },
    {
        "x": 0.8521396517753601,
        "y": 0.23070715367794037,
        "z": 0.46971502900123596
    },
    {
        "x": 0.8520551919937134,
        "y": 0.23147791624069214,
        "z": 0.469489187002182
    },
    {
        "x": 0.8519924283027649,
        "y": 0.231609046459198,
        "z": 0.46953830122947693
    },
    {
        "x": 0.8521034121513367,
        "y": 0.230915367603302,
        "z": 0.46967846155166626
    },
    {
        "x": 0.8520193696022034,
        "y": 0.2297685742378235,
        "z": 0.47039294242858887
    },
    {
        "x": 0.8521885275840759,
        "y": 0.2279597520828247,
        "z": 0.47096607089042664
    },
    {
        "x": 0.8517512679100037,
        "y": 0.22759319841861725,
        "z": 0.4719333350658417
    },
    {
        "x": 0.8510481715202332,
        "y": 0.22755882143974304,
        "z": 0.4732165038585663
    },
    {
        "x": 0.8496471047401428,
        "y": 0.22835999727249146,
        "z": 0.47534361481666565
    },
    {
        "x": 0.848371148109436,
        "y": 0.2277645468711853,
        "z": 0.4779014587402344
    },
    {
        "x": 0.8462578654289246,
        "y": 0.22674086689949036,
        "z": 0.48211637139320374
    },
    {
        "x": 0.8433364629745483,
        "y": 0.22692853212356567,
        "z": 0.4871213138103485
    },
    {
        "x": 0.8394554853439331,
        "y": 0.2271563708782196,
        "z": 0.4936745762825012
    },
    {
        "x": 0.8340856432914734,
        "y": 0.22780653834342957,
        "z": 0.5023996829986572
    },
    {
        "x": 0.8275596499443054,
        "y": 0.22764019668102264,
        "z": 0.5131520628929138
    },
    {
        "x": 0.8194054365158081,
        "y": 0.22708725929260254,
        "z": 0.5263137221336365
    },
    {
        "x": 0.8108614087104797,
        "y": 0.22856733202934265,
        "z": 0.5387585759162903
    },
    {
        "x": 0.8016995191574097,
        "y": 0.23012866079807281,
        "z": 0.5516508221626282
    },
    {
        "x": 0.791284441947937,
        "y": 0.23235192894935608,
        "z": 0.5655806660652161
    },
    {
        "x": 0.778827428817749,
        "y": 0.23428478837013245,
        "z": 0.5818405747413635
    },
    {
        "x": 0.7658905982971191,
        "y": 0.23398946225643158,
        "z": 0.5988827347755432
    },
    {
        "x": 0.7512087821960449,
        "y": 0.2343970239162445,
        "z": 0.6170440912246704
    },
    {
        "x": 0.7363978624343872,
        "y": 0.23539574444293976,
        "z": 0.634276807308197
    },
    {
        "x": 0.7215171456336975,
        "y": 0.23720073699951172,
        "z": 0.6504988670349121
    },
    {
        "x": 0.7057864665985107,
        "y": 0.2403566986322403,
        "z": 0.6664039492607117
    },
    {
        "x": 0.6902114152908325,
        "y": 0.24270367622375488,
        "z": 0.6816914081573486
    },
    {
        "x": 0.6737275123596191,
        "y": 0.24402493238449097,
        "z": 0.6975263953208923
    },
    {
        "x": 0.6572614312171936,
        "y": 0.24436631798744202,
        "z": 0.712946355342865
    },
    {
        "x": 0.6409544944763184,
        "y": 0.24522191286087036,
        "z": 0.7273538112640381
    },
    {
        "x": 0.6238446831703186,
        "y": 0.24596063792705536,
        "z": 0.7418363690376282
    },
    {
        "x": 0.604754626750946,
        "y": 0.24853739142417908,
        "z": 0.7566379904747009
    },
    {
        "x": 0.5839015245437622,
        "y": 0.25189343094825745,
        "z": 0.7717568874359131
    },
    {
        "x": 0.5621678829193115,
        "y": 0.2554387152194977,
        "z": 0.7865865230560303
    },
    {
        "x": 0.539015531539917,
        "y": 0.2577633857727051,
        "z": 0.8018854856491089
    },
    {
        "x": 0.5154300332069397,
        "y": 0.25954946875572205,
        "z": 0.816679835319519
    },
    {
        "x": 0.48938676714897156,
        "y": 0.2607264220714569,
        "z": 0.8321793079376221
    },
    {
        "x": 0.4633616805076599,
        "y": 0.2628229260444641,
        "z": 0.8462978601455688
    },
    {
        "x": 0.43544816970825195,
        "y": 0.2655365467071533,
        "z": 0.8601599931716919
    },
    {
        "x": 0.4062054455280304,
        "y": 0.2686586380004883,
        "z": 0.8733954429626465
    },
    {
        "x": 0.3761659264564514,
        "y": 0.26985931396484375,
        "z": 0.8863831758499146
    },
    {
        "x": 0.3456268906593323,
        "y": 0.26997479796409607,
        "z": 0.8986966609954834
    },
    {
        "x": 0.31560009717941284,
        "y": 0.2687377333641052,
        "z": 0.9100421071052551
    },
    {
        "x": 0.2856130301952362,
        "y": 0.2688034176826477,
        "z": 0.9198749661445618
    },
    {
        "x": 0.2558971345424652,
        "y": 0.2691764533519745,
        "z": 0.9284722208976746
    },
    {
        "x": 0.22608521580696106,
        "y": 0.27053704857826233,
        "z": 0.9357858896255493
    },
    {
        "x": 0.19625557959079742,
        "y": 0.27139759063720703,
        "z": 0.9422457814216614
    },
    {
        "x": 0.166523739695549,
        "y": 0.2702820897102356,
        "z": 0.9482707977294922
    },
    {
        "x": 0.1371757686138153,
        "y": 0.26846253871917725,
        "z": 0.9534729719161987
    },
    {
        "x": 0.10724139958620071,
        "y": 0.26713839173316956,
        "z": 0.9576723575592041
    },
    {
        "x": 0.07820438593626022,
        "y": 0.2675301432609558,
        "z": 0.9603706002235413
    },
    {
        "x": 0.04745984822511673,
        "y": 0.268288791179657,
        "z": 0.9621687531471252
    },
    {
        "x": 0.014776844531297684,
        "y": 0.26827171444892883,
        "z": 0.9632299542427063
    },
    {
        "x": -0.019916778430342674,
        "y": 0.26807892322540283,
        "z": 0.963191032409668
    },
    {
        "x": -0.055614542216062546,
        "y": 0.2677883505821228,
        "z": 0.961871325969696
    },
    {
        "x": -0.09072711318731308,
        "y": 0.2662861943244934,
        "z": 0.959614634513855
    },
    {
        "x": -0.1260892152786255,
        "y": 0.2641393542289734,
        "z": 0.9562070369720459
    },
    {
        "x": -0.16162703931331635,
        "y": 0.26354020833969116,
        "z": 0.9510117173194885
    },
    {
        "x": -0.19851915538311005,
        "y": 0.2636191248893738,
        "z": 0.9439783692359924
    },
    {
        "x": -0.23485338687896729,
        "y": 0.2635592222213745,
        "z": 0.9356176853179932
    },
    {
        "x": -0.2700636684894562,
        "y": 0.2636563181877136,
        "z": 0.9260404706001282
    },
    {
        "x": -0.30346769094467163,
        "y": 0.2626534104347229,
        "z": 0.9159260392189026
    },
    {
        "x": -0.33723923563957214,
        "y": 0.26198410987854004,
        "z": 0.9042311906814575
    },
    {
        "x": -0.37011221051216125,
        "y": 0.2620583474636078,
        "z": 0.8912588953971863
    },
    {
        "x": -0.4018866717815399,
        "y": 0.2630268633365631,
        "z": 0.8770997524261475
    },
    {
        "x": -0.4311390221118927,
        "y": 0.2662498950958252,
        "z": 0.8621079325675964
    },
    {
        "x": -0.4609937369823456,
        "y": 0.26878660917282104,
        "z": 0.8457177877426147
    },
    {
        "x": -0.4921640157699585,
        "y": 0.27093827724456787,
        "z": 0.8272647857666016
    },
    {
        "x": -0.5259367823600769,
        "y": 0.27096760272979736,
        "z": 0.8062053322792053
    },
    {
        "x": -0.5587641596794128,
        "y": 0.27074703574180603,
        "z": 0.7838869094848633
    },
    {
        "x": -0.5897459983825684,
        "y": 0.27021780610084534,
        "z": 0.7610400915145874
    },
    {
        "x": -0.6187097430229187,
        "y": 0.26812463998794556,
        "z": 0.7384493947029114
    },
    {
        "x": -0.6463732719421387,
        "y": 0.2659773528575897,
        "z": 0.7151626944541931
    },
    {
        "x": -0.6743333339691162,
        "y": 0.26214897632598877,
        "z": 0.6903278231620789
    },
    {
        "x": -0.7022871375083923,
        "y": 0.257088840007782,
        "z": 0.6638510227203369
    },
    {
        "x": -0.7269645929336548,
        "y": 0.25317323207855225,
        "z": 0.6382991671562195
    },
    {
        "x": -0.7478169798851013,
        "y": 0.25019827485084534,
        "z": 0.6149557828903198
    },
    {
        "x": -0.7666411995887756,
        "y": 0.2475062906742096,
        "z": 0.592454195022583
    },
    {
        "x": -0.783312201499939,
        "y": 0.24543896317481995,
        "z": 0.5711231827735901
    },
    {
        "x": -0.799391508102417,
        "y": 0.24169446527957916,
        "z": 0.550051748752594
    },
    {
        "x": -0.8121763467788696,
        "y": 0.23712797462940216,
        "z": 0.5330477356910706
    },
    {
        "x": -0.8222000598907471,
        "y": 0.23356811702251434,
        "z": 0.5190693140029907
    },
    {
        "x": -0.8312472105026245,
        "y": 0.22991472482681274,
        "z": 0.506129801273346
    },
    {
        "x": -0.8362617492675781,
        "y": 0.22830700874328613,
        "z": 0.49854016304016113
    },
    {
        "x": -0.8408481478691101,
        "y": 0.22719240188598633,
        "z": 0.49128201603889465
    },
    {
        "x": -0.8427793383598328,
        "y": 0.22434616088867188,
        "z": 0.48927682638168335
    },
    {
        "x": -0.8435124754905701,
        "y": 0.22373434901237488,
        "z": 0.4882926344871521
    },
    {
        "x": -0.84498131275177,
        "y": 0.22386085987091064,
        "z": 0.485688179731369
    },
    {
        "x": -0.8472654223442078,
        "y": 0.22496812045574188,
        "z": 0.4811762571334839
    },
    {
        "x": -0.8499937057495117,
        "y": 0.2256210446357727,
        "z": 0.47603148221969604
    },
    {
        "x": -0.8515667915344238,
        "y": 0.22371743619441986,
        "z": 0.47411447763442993
    },
    {
        "x": -0.8512312173843384,
        "y": 0.22077468037605286,
        "z": 0.4760923385620117
    },
    {
        "x": -0.8489978313446045,
        "y": 0.21710513532161713,
        "z": 0.48173439502716064
    },
    {
        "x": -0.8452659249305725,
        "y": 0.21478991210460663,
        "z": 0.4892756938934326
    },
    {
        "x": -0.8384511470794678,
        "y": 0.21482045948505402,
        "z": 0.5008512139320374
    },
    {
        "x": -0.8301239609718323,
        "y": 0.21555931866168976,
        "z": 0.5142261385917664
    },
    {
        "x": -0.8172743320465088,
        "y": 0.21574431657791138,
        "z": 0.5343379378318787
    },
    {
        "x": -0.8006444573402405,
        "y": 0.21440565586090088,
        "z": 0.55946284532547
    },
    {
        "x": -0.7815905809402466,
        "y": 0.21216288208961487,
        "z": 0.5866029858589172
    },
    {
        "x": -0.7577446103096008,
        "y": 0.2107747197151184,
        "z": 0.617573618888855
    },
    {
        "x": -0.7310750484466553,
        "y": 0.2103835940361023,
        "z": 0.6490516662597656
    },
    {
        "x": -0.7036619782447815,
        "y": 0.21057099103927612,
        "z": 0.6786159873008728
    },
    {
        "x": -0.6733884811401367,
        "y": 0.21299174427986145,
        "z": 0.7079424262046814
    },
    {
        "x": -0.6427754759788513,
        "y": 0.21310484409332275,
        "z": 0.7358165979385376
    },
    {
        "x": -0.6116244792938232,
        "y": 0.21146348118782043,
        "z": 0.7623639106750488
    },
    {
        "x": -0.5797592997550964,
        "y": 0.20778264105319977,
        "z": 0.7878486514091492
    },
    {
        "x": -0.5484064221382141,
        "y": 0.20432458817958832,
        "z": 0.8108648657798767
    },
    {
        "x": -0.516151487827301,
        "y": 0.20244574546813965,
        "z": 0.8322280049324036
    },
    {
        "x": -0.482536643743515,
        "y": 0.20338885486125946,
        "z": 0.8519338965415955
    },
    {
        "x": -0.4476263225078583,
        "y": 0.2088412046432495,
        "z": 0.8694918155670166
    },
    {
        "x": -0.41338610649108887,
        "y": 0.21470001339912415,
        "z": 0.884881854057312
    },
    {
        "x": -0.37982597947120667,
        "y": 0.218562051653862,
        "z": 0.8988675475120544
    },
    {
        "x": -0.3453514873981476,
        "y": 0.21995119750499725,
        "z": 0.9123342633247375
    },
    {
        "x": -0.3095625042915344,
        "y": 0.2221633642911911,
        "z": 0.9245617985725403
    },
    {
        "x": -0.2732228636741638,
        "y": 0.22512128949165344,
        "z": 0.9352377653121948
    },
    {
        "x": -0.23949973285198212,
        "y": 0.22969864308834076,
        "z": 0.9433336853981018
    },
    {
        "x": -0.20661893486976624,
        "y": 0.23535332083702087,
        "z": 0.9496933221817017
    },
    {
        "x": -0.17358431220054626,
        "y": 0.23923978209495544,
        "z": 0.9553181529045105
    },
    {
        "x": -0.13928918540477753,
        "y": 0.2406042516231537,
        "z": 0.9605769515037537
    },
    {
        "x": -0.10702263563871384,
        "y": 0.24093341827392578,
        "z": 0.9646228551864624
    },
    {
        "x": -0.0764993280172348,
        "y": 0.24119526147842407,
        "z": 0.9674568176269531
    },
    {
        "x": -0.046808842569589615,
        "y": 0.2439451664686203,
        "z": 0.9686586856842041
    },
    {
        "x": -0.018496576696634293,
        "y": 0.24666818976402283,
        "z": 0.9689234495162964
    },
    {
        "x": 0.009234309196472168,
        "y": 0.24993929266929626,
        "z": 0.9682174921035767
    },
    {
        "x": 0.03599993512034416,
        "y": 0.2509017288684845,
        "z": 0.9673429131507874
    },
    {
        "x": 0.06048572063446045,
        "y": 0.24999216198921204,
        "z": 0.9663567543029785
    },
    {
        "x": 0.08388801664113998,
        "y": 0.2490575760602951,
        "z": 0.9648487567901611
    },
    {
        "x": 0.10518194735050201,
        "y": 0.24919700622558594,
        "z": 0.9627240896224976
    },
    {
        "x": 0.12440155446529388,
        "y": 0.24869537353515625,
        "z": 0.9605596661567688
    },
    {
        "x": 0.1431407332420349,
        "y": 0.24987177550792694,
        "z": 0.9576402306556702
    },
    {
        "x": 0.15997430682182312,
        "y": 0.24955697357654572,
        "z": 0.955054759979248
    },
    {
        "x": 0.17596304416656494,
        "y": 0.24870988726615906,
        "z": 0.9524601697921753
    },
    {
        "x": 0.19038596749305725,
        "y": 0.247869610786438,
        "z": 0.9499019980430603
    },
    {
        "x": 0.20232634246349335,
        "y": 0.2467421144247055,
        "z": 0.9477248191833496
    },
    {
        "x": 0.21200068295001984,
        "y": 0.24623829126358032,
        "z": 0.9457390904426575
    },
    {
        "x": 0.219880148768425,
        "y": 0.24593038856983185,
        "z": 0.944018542766571
    },
    {
        "x": 0.22412127256393433,
        "y": 0.24581345915794373,
        "z": 0.9430510997772217
    },
    {
        "x": 0.22823195159435272,
        "y": 0.24525249004364014,
        "z": 0.9422109127044678
    },
    {
        "x": 0.2328169345855713,
        "y": 0.2457306832075119,
        "z": 0.9409636855125427
    },
    {
        "x": 0.2385566234588623,
        "y": 0.24894453585147858,
        "z": 0.938678503036499
    },
    {
        "x": 0.24444253742694855,
        "y": 0.2518722712993622,
        "z": 0.9363803863525391
    },
    {
        "x": 0.24937623739242554,
        "y": 0.2554202079772949,
        "z": 0.9341156482696533
    },
    {
        "x": 0.253128319978714,
        "y": 0.25863736867904663,
        "z": 0.9322192668914795
    },
    {
        "x": 0.2553207278251648,
        "y": 0.2624884247779846,
        "z": 0.9305434823036194
    },
    {
        "x": 0.25720781087875366,
        "y": 0.2678053677082062,
        "z": 0.9285065531730652
    },
    {
        "x": 0.2592901885509491,
        "y": 0.275917112827301,
        "z": 0.9255475997924805
    },
    {
        "x": 0.2612325847148895,
        "y": 0.28695398569107056,
        "z": 0.9216371178627014
    },
    {
        "x": 0.2618035078048706,
        "y": 0.2980818748474121,
        "z": 0.9179357886314392
    },
    {
        "x": 0.2597000002861023,
        "y": 0.31500720977783203,
        "z": 0.9128671288490295
    },
    {
        "x": 0.25492170453071594,
        "y": 0.3386741876602173,
        "z": 0.9057123064994812
    },
    {
        "x": 0.24600975215435028,
        "y": 0.36729079484939575,
        "z": 0.896981954574585
    },
    {
        "x": 0.23740030825138092,
        "y": 0.3903020918369293,
        "z": 0.8895534873008728
    },
    {
        "x": 0.22824984788894653,
        "y": 0.41471248865127563,
        "z": 0.8808606863021851
    },
    {
        "x": 0.21746742725372314,
        "y": 0.44444334506988525,
        "z": 0.869009792804718
    },
    {
        "x": 0.20630207657814026,
        "y": 0.4731031060218811,
        "z": 0.8565120697021484
    },
    {
        "x": 0.19310401380062103,
        "y": 0.5016833543777466,
        "z": 0.8432227373123169
    },
    {
        "x": 0.1799142211675644,
        "y": 0.5274300575256348,
        "z": 0.8303303122520447
    },
    {
        "x": 0.16561810672283173,
        "y": 0.5554195642471313,
        "z": 0.814910888671875
    },
    {
        "x": 0.1525440216064453,
        "y": 0.5815231204032898,
        "z": 0.7991002798080444
    },
    {
        "x": 0.13980506360530853,
        "y": 0.6019039154052734,
        "z": 0.786235511302948
    },
    {
        "x": 0.1261919140815735,
        "y": 0.6197767853736877,
        "z": 0.7745659351348877
    },
    {
        "x": 0.11373390257358551,
        "y": 0.6346850395202637,
        "z": 0.7643556594848633
    },
    {
        "x": 0.10310006141662598,
        "y": 0.6416012644767761,
        "z": 0.7600778341293335
    },
    {
        "x": 0.09342194348573685,
        "y": 0.6493951678276062,
        "z": 0.7546908259391785
    },
    {
        "x": 0.08585970103740692,
        "y": 0.6543415188789368,
        "z": 0.7513090372085571
    },
    {
        "x": 0.07886059582233429,
        "y": 0.6618874669075012,
        "z": 0.7454435229301453
    },
    {
        "x": 0.07368876039981842,
        "y": 0.6673060059547424,
        "z": 0.7411293387413025
    },
    {
        "x": 0.06872895359992981,
        "y": 0.6740379333496094,
        "z": 0.735492467880249
    },
    {
        "x": 0.06375062465667725,
        "y": 0.6817958950996399,
        "z": 0.7287592887878418
    },
    {
        "x": 0.060313884168863297,
        "y": 0.6863447427749634,
        "z": 0.7247710824012756
    },
    {
        "x": 0.056845445185899734,
        "y": 0.6895776391029358,
        "z": 0.7219772934913635
    },
    {
        "x": 0.053958188742399216,
        "y": 0.692064642906189,
        "z": 0.7198160290718079
    },
    {
        "x": 0.05075963959097862,
        "y": 0.6964720487594604,
        "z": 0.7157863974571228
    },
    {
        "x": 0.048329178243875504,
        "y": 0.6978748440742493,
        "z": 0.7145872712135315
    },
    {
        "x": 0.04593617096543312,
        "y": 0.6981828808784485,
        "z": 0.7144442200660706
    },
    {
        "x": 0.04303376376628876,
        "y": 0.6977678537368774,
        "z": 0.7150301337242126
    },
    {
        "x": 0.040972743183374405,
        "y": 0.697568416595459,
        "z": 0.7153457999229431
    },
    {
        "x": 0.03899800777435303,
        "y": 0.6982595920562744,
        "z": 0.7147815823554993
    },
    {
        "x": 0.037598997354507446,
        "y": 0.6995946764945984,
        "z": 0.7135500311851501
    },
    {
        "x": 0.03587073087692261,
        "y": 0.6998417377471924,
        "z": 0.7133966684341431
    },
    {
        "x": 0.034583717584609985,
        "y": 0.6977815628051758,
        "z": 0.7154752612113953
    },
    {
        "x": 0.033484816551208496,
        "y": 0.6949785947799683,
        "z": 0.7182503342628479
    },
    {
        "x": 0.03184527903795242,
        "y": 0.6912596225738525,
        "z": 0.721904456615448
    },
    {
        "x": 0.030461624264717102,
        "y": 0.6871401071548462,
        "z": 0.7258861064910889
    },
    {
        "x": 0.02892644703388214,
        "y": 0.6840501427650452,
        "z": 0.7288612127304077
    },
    {
        "x": 0.02737019956111908,
        "y": 0.6796376705169678,
        "z": 0.7330371737480164
    },
    {
        "x": 0.02533458173274994,
        "y": 0.6749961972236633,
        "z": 0.7373861074447632
    },
    {
        "x": 0.022287491708993912,
        "y": 0.6690447926521301,
        "z": 0.7428878545761108
    },
    {
        "x": 0.018880926072597504,
        "y": 0.6633726358413696,
        "z": 0.7480509877204895
    },
    {
        "x": 0.01618523709475994,
        "y": 0.6580362319946289,
        "z": 0.7528122663497925
    },
    {
        "x": 0.012966709211468697,
        "y": 0.6512666940689087,
        "z": 0.7587381601333618
    },
    {
        "x": 0.010744255036115646,
        "y": 0.6434515118598938,
        "z": 0.7654114365577698
    },
    {
        "x": 0.008828312158584595,
        "y": 0.6332994699478149,
        "z": 0.7738564610481262
    },
    {
        "x": 0.007030945271253586,
        "y": 0.6212606430053711,
        "z": 0.7835724949836731
    },
    {
        "x": 0.006091883406043053,
        "y": 0.6052666902542114,
        "z": 0.7959994077682495
    },
    {
        "x": 0.006319953128695488,
        "y": 0.5927086472511292,
        "z": 0.8053921461105347
    },
    {
        "x": 0.005194211378693581,
        "y": 0.5846161246299744,
        "z": 0.8112934231758118
    },
    {
        "x": 0.004748500883579254,
        "y": 0.5811142921447754,
        "z": 0.8138080835342407
    },
    {
        "x": 0.004657033830881119,
        "y": 0.577131986618042,
        "z": 0.8166376352310181
    },
    {
        "x": 0.006101563572883606,
        "y": 0.5697422027587891,
        "z": 0.8218008279800415
    },
    {
        "x": 0.007904386147856712,
        "y": 0.555507481098175,
        "z": 0.8314740061759949
    },
    {
        "x": 0.009169332683086395,
        "y": 0.537935197353363,
        "z": 0.8429363369941711
    },
    {
        "x": 0.010798603296279907,
        "y": 0.5200936198234558,
        "z": 0.8540409803390503
    },
    {
        "x": 0.013305909931659698,
        "y": 0.5046237111091614,
        "z": 0.8632368445396423
    },
    {
        "x": 0.01520894281566143,
        "y": 0.49256253242492676,
        "z": 0.8701441884040833
    },
    {
        "x": 0.01703515276312828,
        "y": 0.4813576340675354,
        "z": 0.8763587474822998
    },
    {
        "x": 0.020044539123773575,
        "y": 0.4693874418735504,
        "z": 0.8827647566795349
    },
    {
        "x": 0.022409595549106598,
        "y": 0.4560449719429016,
        "z": 0.8896745443344116
    },
    {
        "x": 0.025022093206644058,
        "y": 0.4404582381248474,
        "z": 0.8974243402481079
    },
    {
        "x": 0.027612462639808655,
        "y": 0.4274767339229584,
        "z": 0.9036045670509338
    },
    {
        "x": 0.02982432022690773,
        "y": 0.41621133685112,
        "z": 0.9087786674499512
    },
    {
        "x": 0.03216821327805519,
        "y": 0.40590664744377136,
        "z": 0.9133482575416565
    },
    {
        "x": 0.03421802073717117,
        "y": 0.39655035734176636,
        "z": 0.9173750281333923
    },
    {
        "x": 0.03662772476673126,
        "y": 0.38745617866516113,
        "z": 0.9211602210998535
    },
    {
        "x": 0.03843814879655838,
        "y": 0.37715062499046326,
        "z": 0.9253539443016052
    },
    {
        "x": 0.04059748351573944,
        "y": 0.3666526675224304,
        "z": 0.9294717311859131
    },
    {
        "x": 0.042093198746442795,
        "y": 0.35686159133911133,
        "z": 0.9332084059715271
    },
    {
        "x": 0.044345103204250336,
        "y": 0.3475724756717682,
        "z": 0.9366039037704468
    },
    {
        "x": 0.04589434340596199,
        "y": 0.3384580910205841,
        "z": 0.9398615956306458
    },
    {
        "x": 0.04716499522328377,
        "y": 0.32872825860977173,
        "z": 0.943246066570282
    },
    {
        "x": 0.0476984828710556,
        "y": 0.31961244344711304,
        "z": 0.9463470578193665
    }
]
</script>

<svelte:head>
  <title>Home</title>
  <meta name="description" content="Svelte demo app" />
</svelte:head>

<section>
  <div style="height: 80px">
  <Dropzone
    on:drop={handleFilesSelect}
    accept={"application/json"}
    inputElement={undefined}
  />
  </div>

  {#if json != null}
    <Heatmap coordinates={json}/>
  {/if}
</section>

<style>
  section {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    flex: 0.6;
  }

  h1 {
    width: 100%;
  }
</style>
